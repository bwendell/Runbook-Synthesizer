# Runbook-Synthesizer Configuration
# Helidon SE 4.x Configuration

server:
  port: 8080
  host: 0.0.0.0

# Health and Observability
server.features:
  observe:
    observers:
      health:
        enabled: true

# Logging Configuration
logging:
  level: INFO

# --------------------------------------------------------
# Cloud Provider Configuration
# --------------------------------------------------------
# Selects which cloud provider's adapters to use for storage,
# compute metadata, metrics, and logging operations.

cloud:
  provider: oci # 'oci' (default) or 'aws'

  # AWS Configuration (used when provider: aws)
  # aws:
  #   region: us-east-1
  #   storage:
  #     bucket: runbook-synthesizer-runbooks
  #   # Uses AWS default credential chain:
  #   # 1. Environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
  #   # 2. AWS credentials file (~/.aws/credentials)
  #   # 3. ECS container credentials
  #   # 4. EC2 instance profile / IAM role
  #   # 5. Web identity token (EKS IRSA)

# --------------------------------------------------------
# Future Configuration Sections (Placeholder)
# --------------------------------------------------------

# llm:
#   provider: oci-genai  # oci-genai, openai, ollama
#   oci-genai:
#     compartmentId: ${OCI_COMPARTMENT_ID}
#     modelId: cohere.command-r-plus
#     embeddingModelId: cohere.embed-english-v3.0
#   openai:
#     apiKey: ${OPENAI_API_KEY}
#     model: gpt-4-turbo
#   ollama:
#     baseUrl: http://localhost:11434
#     model: llama3

# oci:
#   tenancy: ${OCI_TENANCY_OCID}
#   user: ${OCI_USER_OCID}
#   region: ${OCI_REGION}
#   fingerprint: ${OCI_FINGERPRINT}
#   keyFile: ${OCI_KEY_FILE}

# Output Webhooks Configuration
output:
  webhooks:
    # Example Generic Webhook (disabled by default)
    - name: example-generic
      type: generic
      url: ${WEBHOOK_URL:http://localhost:8888/webhook}
      enabled: false
      headers:
        Authorization: Bearer ${WEBHOOK_TOKEN:example-token}

    # Slack Webhook (v1.1 - stub only)
    # - name: slack-oncall
    #   type: slack
    #   url: ${SLACK_WEBHOOK_URL}
    #   enabled: true
    #   filter:
    #     severities: [CRITICAL, WARNING]

    # PagerDuty (v1.1 - stub only)
    # - name: pagerduty-incidents
    #   type: pagerduty
    #   url: https://events.pagerduty.com/v2/enqueue
    #   enabled: true
    #   headers:
    #     X-Routing-Key: ${PD_ROUTING_KEY}
    #   filter:
    #     severities: [CRITICAL]
